<nav class="flex flex-1 flex-col">
    <ul role="list" class="flex flex-1 flex-col gap-y-7">
        <li>
            <div class="text-xs font-semibold leading-6 text-gray-500 uppercase tracking-wider mb-3 px-2">主選單</div>
            <ul role="list" class="space-y-1">
                <!-- 儀表板 -->
                <li>
                    <a href="{{ url_for('views.dashboard') }}"
                       class="tech-sidebar-item group flex items-center gap-x-3 p-3 text-sm leading-6 font-medium transition-all duration-200 {% if request.endpoint == 'views.dashboard' %}active text-white{% else %}text-gray-400 hover:text-white{% endif %}">
                        <i class="fas fa-tachometer-alt w-5 text-center"></i>
                        <span class="flex-1">儀表板</span>
                        {% if request.endpoint == 'views.dashboard' %}
                        <i class="fas fa-chevron-right text-xs opacity-50"></i>
                        {% endif %}
                    </a>
                </li>

                <!-- 資料瀏覽 -->
                <li>
                    <a href="{{ url_for('views.data_list') }}"
                       class="tech-sidebar-item group flex items-center gap-x-3 p-3 text-sm leading-6 font-medium transition-all duration-200 {% if request.endpoint and 'data_' in request.endpoint %}active text-white{% else %}text-gray-400 hover:text-white{% endif %}">
                        <i class="fas fa-table w-5 text-center"></i>
                        <span class="flex-1">資料檢視</span>
                        {% if request.endpoint and 'data_' in request.endpoint %}
                        <i class="fas fa-chevron-right text-xs opacity-50"></i>
                        {% endif %}
                    </a>
                </li>

                <!-- 檔案上傳 -->
                <li>
                    <a href="{{ url_for('views.upload_create') }}"
                       class="tech-sidebar-item group flex items-center gap-x-3 p-3 text-sm leading-6 font-medium transition-all duration-200 {% if request.endpoint and 'upload' in request.endpoint %}active text-white{% else %}text-gray-400 hover:text-white{% endif %}">
                        <i class="fas fa-upload w-5 text-center"></i>
                        <span class="flex-1">檔案上傳</span>
                        {% if request.endpoint and 'upload' in request.endpoint %}
                        <i class="fas fa-chevron-right text-xs opacity-50"></i>
                        {% endif %}
                    </a>
                </li>

                <!-- MongoDB 實例 -->
                <li>
                    <a href="{{ url_for('views.instances_list') }}"
                       class="tech-sidebar-item group flex items-center gap-x-3 p-3 text-sm leading-6 font-medium transition-all duration-200 {% if request.endpoint and 'instance' in request.endpoint %}active text-white{% else %}text-gray-400 hover:text-white{% endif %}">
                        <i class="fas fa-database w-5 text-center"></i>
                        <span class="flex-1">MongoDB 實例</span>
                        {% if request.endpoint and 'instance' in request.endpoint %}
                        <i class="fas fa-chevron-right text-xs opacity-50"></i>
                        {% endif %}
                    </a>
                </li>
            </ul>
        </li>

        <!-- 分析子系統 -->
        <li>
            <div class="text-xs font-semibold leading-6 text-gray-500 uppercase tracking-wider mb-3 px-2">分析子系統</div>
            <ul role="list" class="space-y-1">
                <!-- 分析配置設定 -->
                <li>
                    <a href="{{ url_for('views.configs_list') }}"
                       class="tech-sidebar-item group flex items-center gap-x-3 p-3 text-sm leading-6 font-medium transition-all duration-200 {% if request.endpoint and 'config' in request.endpoint %}active text-white{% else %}text-gray-400 hover:text-white{% endif %}">
                        <i class="fas fa-cog w-5 text-center group-hover:rotate-90 transition-transform duration-300"></i>
                        <span class="flex-1">分析配置設定</span>
                        {% if request.endpoint and 'config' in request.endpoint %}
                        <i class="fas fa-chevron-right text-xs opacity-50"></i>
                        {% endif %}
                    </a>
                </li>

                <!-- 分析路由規則 -->
                <li>
                    <a href="{{ url_for('views.routing_list') }}"
                       class="tech-sidebar-item group flex items-center gap-x-3 p-3 text-sm leading-6 font-medium transition-all duration-200 {% if request.endpoint and 'routing' in request.endpoint %}active text-white{% else %}text-gray-400 hover:text-white{% endif %}">
                        <i class="fas fa-route w-5 text-center"></i>
                        <span class="flex-1">分析路由規則</span>
                        {% if request.endpoint and 'routing' in request.endpoint %}
                        <i class="fas fa-chevron-right text-xs opacity-50"></i>
                        {% endif %}
                    </a>
                </li>

                <!-- 分析節點監控 -->
                <li>
                    <a href="{{ url_for('views.nodes_list') }}"
                       class="tech-sidebar-item group flex items-center gap-x-3 p-3 text-sm leading-6 font-medium transition-all duration-200 {% if request.endpoint and 'node' in request.endpoint %}active text-white{% else %}text-gray-400 hover:text-white{% endif %}">
                        <i class="fas fa-server w-5 text-center"></i>
                        <span class="flex-1">分析節點監控</span>
                        {% if request.endpoint and 'node' in request.endpoint %}
                        <i class="fas fa-chevron-right text-xs opacity-50"></i>
                        {% endif %}
                    </a>
                </li>
            </ul>
        </li>

        <!-- 使用者管理（僅管理員） -->
        {% if current_user.is_admin() %}
        <li>
            <div class="text-xs font-semibold leading-6 text-gray-500 uppercase tracking-wider mb-3 px-2">管理功能</div>
            <ul role="list" class="space-y-1">
                <li>
                    <a href="{{ url_for('views.users_list') }}"
                       class="tech-sidebar-item group flex items-center gap-x-3 p-3 text-sm leading-6 font-medium transition-all duration-200 {% if request.endpoint and 'user' in request.endpoint %}active text-white{% else %}text-gray-400 hover:text-white{% endif %}">
                        <i class="fas fa-users-cog w-5 text-center"></i>
                        <span class="flex-1">使用者管理</span>
                        {% if request.endpoint and 'user' in request.endpoint %}
                        <i class="fas fa-chevron-right text-xs opacity-50"></i>
                        {% endif %}
                    </a>
                </li>
            </ul>
        </li>
        {% endif %}

        <!-- 底部資訊 -->
        <li class="-mx-6 mt-auto border-t border-gray-800">
            <div class="flex items-center gap-x-4 px-6 py-4">
                <div class="flex-1">
                    <div class="flex items-center gap-2 mb-1">
                        <i class="fas fa-info-circle text-indigo-400 text-xs"></i>
                        <span class="text-xs font-medium text-gray-500">系統資訊</span>
                    </div>
                    <div class="flex items-baseline gap-2">
                        <span class="text-xs text-gray-400">版本</span>
                        <span class="text-sm font-semibold text-white">v1.0.0</span>
                    </div>
                </div>
                <div class="h-10 w-10 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg">
                    <i class="fas fa-code text-white text-sm"></i>
                </div>
            </div>
        </li>
    </ul>
</nav>
