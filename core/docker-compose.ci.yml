# CI/CD 部署用覆蓋檔
# 使用環境變數 STATE_IMAGE 和 ANALYSIS_IMAGE 來設定映像

services:
  state_management:
    image: ${STATE_IMAGE}
    env_file:
      - ../.env

  analysis_service:
    image: ${ANALYSIS_IMAGE}
    container_name: analysis_service
    restart: unless-stopped
    env_file:
      - ../.env
    volumes:
      - ../sub_system/analysis_service/logs:/app/logs
    depends_on:
      - mongodb
      - rabbitmq
